(this["webpackJsonpto-do"]=this["webpackJsonpto-do"]||[]).push([[0],{23:function(e,t,c){},24:function(e,t,c){},26:function(e,t,c){},27:function(e,t,c){},28:function(e,t,c){},29:function(e,t,c){},30:function(e,t,c){},36:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),l=c(17),s=c.n(l),i=(c(23),c(4)),r=c(8),d=c(11),o=c(2),j=(c(24),c(0)),u=function(e){var t=e.objTask,c=e.handleClickFavorite,a=e.handleClickDelete,l=e.handleClickSave,s=e.handleClickComplete,i=e.handleClickEdit,d=Object(n.useRef)(null),o=Object(n.useRef)(null),u=Object(n.useRef)(null),h=Object(n.useRef)(null),p=Object(n.useState)(""),b=Object(r.a)(p,2),f=b[0],m=b[1],O=Object(n.useRef)(null);Object(n.useEffect)((function(){var e=d.current,c=o.current,n=h.current,a=u.current;t.favorite?e.classList.add("selected"):e.classList.remove("selected"),t.completed?c.classList.add("line-completed"):c.classList.remove("line-completed"),t.completed?a.checked=!0:a.checked=!1,t.favorite&&t.selected?n.classList.add("selected-favorite"):n.classList.remove("selected-favorite"),t.completed&&t.selected?n.classList.add("selected-completed"):n.classList.remove("selected-completed"),!t.completed&&t.selected?n.classList.add("selected-not-completed"):n.classList.remove("selected-not-completed")}),[t.completed,t.favorite,t.selected]);return Object(j.jsxs)("div",{ref:h,className:"App-task",children:[Object(j.jsx)("span",{className:"date-task",children:t.date}),Object(j.jsx)("span",{ref:o,className:"style-completed"}),Object(j.jsx)("div",{className:"App-check-completed",children:Object(j.jsx)("form",{children:Object(j.jsx)("input",{id:"input-check",ref:u,"data-taskid":t.id,onClick:function(e){return s(e,t)},type:"checkbox"})})}),Object(j.jsx)("div",{className:"App-task-edit",children:Object(j.jsx)("form",{onSubmit:function(e){e.preventDefault()},children:Object(j.jsx)("input",{id:"input-task-edit",type:"text",name:"task-edit",value:t.edit?f:t.text,onChange:function(e){m(e.target.value)},readOnly:"readonly",ref:O})})}),Object(j.jsx)("div",{className:"content-icon-favorite action-task",children:Object(j.jsx)("span",{onClick:function(e){return c(e,t)},className:"icon-favorite",children:Object(j.jsx)("svg",{ref:d,className:"icon icon-star-empty",children:Object(j.jsx)("use",{xlinkHref:"#icon-star-empty"})})})}),Object(j.jsx)("div",{className:"content-editar action-task",children:Object(j.jsx)("form",{children:Object(j.jsx)("button",{onClick:function(e){return i(e,t,f)},children:t.edit?"Guardar":"Editar"})})}),Object(j.jsx)("div",{className:"content-guardar action-task",children:Object(j.jsx)("form",{children:Object(j.jsx)("button",{"data-taskid":t.id,onClick:function(e){return l(e,f,t)},children:"Guardar"})})}),Object(j.jsx)("div",{className:"content-icon-delete action-task",children:Object(j.jsx)("span",{"data-taskid":t.id,onClick:a,className:"icon-delete",children:Object(j.jsx)("svg",{className:"icon icon-bin",children:Object(j.jsx)("use",{xlinkHref:"#icon-bin"})})})})]})},h=function(e){var t=e.favoriteArr,c=e.handleClickDelete;return Object(j.jsx)("section",{className:"App-favorite-section",children:t.map((function(e){return Object(j.jsx)(u,{objTask:e,handleClickDelete:c},e.text)}))})},p=function(e){var t=Object(n.useState)(JSON.parse(localStorage.getItem(e))||[]),c=Object(r.a)(t,2),a=c[0],l=c[1];return localStorage.setItem(e,JSON.stringify(a)),[a,l]},b=(c(26),function(e){e.favoriteArr;var t=e.handleFilterDate,c=(e.getDate,Object(n.useRef)(null)),a=Object(n.useRef)(null);return Object(j.jsxs)("div",{className:"App-content-filter-date",children:[Object(j.jsxs)("form",{children:[Object(j.jsx)("label",{htmlFor:"filter-check",children:"Buscar por fecha"}),Object(j.jsx)("span",{className:"span-date-range-desde",children:"Desde:"}),Object(j.jsx)("span",{className:"span-date",children:"dd/mm/yy"}),Object(j.jsx)("input",{ref:c,placeholder:"Eg 15/4/2021",id:"filter-check-date",type:"text"})]}),Object(j.jsxs)("form",{children:[Object(j.jsx)("span",{className:"span-date-range-hasta",children:"Hasta:"}),Object(j.jsx)("span",{className:"span-date",children:"dd/mm/yy"}),Object(j.jsx)("input",{ref:a,placeholder:"Eg 20/4/2021",id:"filter-check-date",type:"text"})]}),Object(j.jsx)("span",{onClick:function(e){return t(e,c,a)},children:"Buscar"})]})}),f=(c(27),function(e){var t=e.handleFilterTask;return Object(j.jsx)("div",{className:"App-content-filter",children:Object(j.jsxs)("form",{children:[Object(j.jsx)("input",{onChange:t,id:"filter-check",type:"checkbox"}),Object(j.jsx)("label",{htmlFor:"filter-check",children:"Favoritos"})]})})}),m=(c(28),function(e){var t=e.taskList,c=e.handleClickFavorite,n=e.handleClickDelete,a=e.handleClickSave,l=e.handleClickComplete,s=e.handleClickEdit;return Object(j.jsx)("section",{className:"App-todo-list",children:t.map((function(e){return Object(j.jsx)(u,{objTask:e,handleClickFavorite:c,handleClickDelete:n,handleClickSave:a,handleClickComplete:l,handleClickEdit:s},e.text)}))})}),O=(c(29),function(e){var t=e.task,c=e.handleFilterTask,a=e.handleFilterDate,l=e.handleClickFavorite,s=e.handleClickDelete,i=e.handleClickSave,r=e.handleClickComplete,d=e.handleClickEdit,o=e.handleSelectFavorites,u=e.handleSelectCompleted,h=e.handleSelectAll,p=e.handleDeleteSelect,O=e.handleSelectNotCompleted,v=e.handleSubmit,x=Object(n.useRef)(null);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"App-content-title-app",children:Object(j.jsx)("h1",{children:"To-do App"})}),Object(j.jsxs)("section",{className:"App-content-all-todolist",children:[Object(j.jsxs)("aside",{className:"App-aside",children:[Object(j.jsx)("span",{children:"Filtrar por:"}),Object(j.jsx)(f,{handleFilterTask:c}),Object(j.jsx)(b,{handleFilterDate:a})]}),Object(j.jsxs)("main",{className:"App-main",children:[Object(j.jsxs)("section",{className:"App-todo",children:[Object(j.jsx)(m,{taskList:t,handleClickFavorite:l,handleClickDelete:s,handleClickSave:i,handleClickComplete:r,handleClickEdit:d}),Object(j.jsx)("div",{className:"content-input-user-task",children:Object(j.jsxs)("form",{className:"form-user-input",onSubmit:function(e){return v(e,x)},children:[Object(j.jsx)("label",{htmlFor:"todo-text",children:"A\xf1ade una tarea"}),Object(j.jsx)("input",{id:"todo-text",type:"text",placeholder:"A\xf1ade una tarea",name:"todo-text",ref:x})]})})]}),Object(j.jsxs)("div",{className:"App-select-state-task",children:[Object(j.jsx)("span",{onClick:o,className:"App-handle-select favorite",children:"Favoritos"}),Object(j.jsx)("span",{onClick:u,className:"App-handle-select completed",children:"Completados"}),Object(j.jsx)("span",{onClick:O,className:"App-handle-select no-completed",children:"No completados"})]}),Object(j.jsxs)("div",{className:"App-select-delete-all",children:[Object(j.jsx)("span",{onClick:p,className:"App-handle-select select-all",children:"Eliminar seleccionados"}),Object(j.jsx)("span",{onClick:h,className:"App-handle-select select-all",children:"Seleccionar todos"})]})]})]})]})});c(30);var v=function(){var e=p("task"),t=Object(r.a)(e,2),c=t[0],n=t[1],a=p("alltask"),l=Object(r.a)(a,2),s=l[0],u=l[1],b=p("favorite"),f=Object(r.a)(b,2),m=f[0],v=f[1],x=function(e){console.log(e);var t=e.currentTarget.dataset.taskid,a=c.filter((function(e){return e.id!==t})),l=m.filter((function(e){return e.id!==t}));n(a),v(l)};return Object(j.jsx)(d.a,{children:Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("header",{className:"App-header",children:Object(j.jsx)("nav",{className:"App-nav",children:Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsx)(d.b,{to:"/",children:"Inicio"})}),Object(j.jsx)("li",{children:Object(j.jsx)(d.b,{to:"favorites",children:"Mis favoritos"})})]})})}),Object(j.jsxs)(o.c,{children:[Object(j.jsx)(o.a,{path:"/favorites",children:Object(j.jsx)(h,{favoriteArr:m,handleClickDelete:x})}),Object(j.jsx)(o.a,{path:"/",children:Object(j.jsx)(O,{task:c,handleFilterTask:function(e){console.log(e.target.checked);var t=c.filter((function(e){return e.favorite?e:null}));e.target.checked?n(t):n(s)},handleFilterDate:function(e,t,c){t.current.value,c.current.value;var n=new Date;console.log(n),e.preventDefault()},handleClickFavorite:function(e,t){var a=t.id,l=c.map((function(e){return e.id===a?Object(i.a)(Object(i.a)({},e),{},{favorite:!e.favorite}):e})),s=l.filter((function(e){return e.favorite?e:null}));console.log(l),console.log(s),n(l),v(s),u(l)},handleClickDelete:x,handleClickSave:function(e,t,a){var l=c.map((function(e){return e.id===a.id&&e.edit?Object(i.a)(Object(i.a)({},e),{},{text:t,edit:!e.edit}):e}));n(l),e.preventDefault()},handleClickComplete:function(e){var t=e.target.dataset.taskid,a=c.map((function(e){return e.id===t?Object(i.a)(Object(i.a)({},e),{},{completed:!e.completed}):e}));n(a)},handleClickEdit:function(e,t,a){document.getElementById("input-task-edit").removeAttribute("readonly");var l=c.map((function(e){return e.id===t.id?Object(i.a)(Object(i.a)({},e),{},{edit:!e.edit}):e}));n(l),e.preventDefault()},handleSelectFavorites:function(e){var t=c.map((function(e){return e.favorite?Object(i.a)(Object(i.a)({},e),{},{selected:!e.selected}):e}));n(t)},handleSelectCompleted:function(e){var t=c.map((function(e){return e.completed?Object(i.a)(Object(i.a)({},e),{},{selected:!e.selected}):e}));console.log(t),n(t)},handleSelectAll:function(e){var t=document.querySelectorAll(".App-task");Array.from(t).map((function(e){return e.style="border: 2px solid red"}));var a=c.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{selected:!e.selected})}));console.log(a),n(a)},handleDeleteSelect:function(e){var t=c.filter((function(e){return!e.selected}));n(t)},handleSelectNotCompleted:function(e){var t=c.map((function(e){return e.completed?e:Object(i.a)(Object(i.a)({},e),{},{selected:!e.selected})}));n(t)},handleSubmit:function(e,t){var a=new Date,l=t.current.value,s={id:l,text:l,completed:!1,favorite:!1,selected:!1,edit:!1,date:a.toLocaleString(),day:a.toLocaleDateString()},i=c.concat([s]);u(i),n(i),t.current.value="",e.preventDefault()}})})]})]})})},x=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,37)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,l=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),l(e),s(e)}))};s.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(v,{})}),document.getElementById("root")),x()}},[[36,1,2]]]);
//# sourceMappingURL=main.525e20e8.chunk.js.map